---
title: R矩阵和数组
date: 2017-05-24 09:11:21
tags: R语言
---

0. 矩阵中取出一维的矩阵,自动降为向量,为了防止自动降维,使用参数drop=FALSE
```R
> z<-matrix(1:8,ncol=2)
> z[2,]
[1] 2 6
> z[2,,drop=FALSE]
     [,1] [,2]
[1,]    2    6
```

0. apply(m,dimcode,f,fargs) 函数,m为矩阵,dimcode=1为行,2为列,f为函数,fargs为函数的可选参数
```R
> z<-matrix(1:6,ncol=2)
> z
     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6
> apply(z,2,mean)
[1] 2 5
> matrix(apply(z,1,mean))
     [,1]
[1,]  2.5
[2,]  3.5
[3,]  4.5
```

0. 矩阵运算%*% 
```R
> 
> x<-matrix(1:6,ncol=2)
> y<-matrix(1:6,ncol=3)
> z<-matrix(1:6,ncol=2,byrow = TRUE)
> x
     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6
> y
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6
> z
     [,1] [,2]
[1,]    1    2
[2,]    3    4
[3,]    5    6
> 
> 3 * x
     [,1] [,2]
[1,]    3   12
[2,]    6   15
[3,]    9   18
> x%*%y
     [,1] [,2] [,3]
[1,]    9   19   29
[2,]   12   26   40
[3,]   15   33   51
```

0. 向量转矩阵
```R
> u<-c(1,2,3)
> u
[1] 1 2 3
> u<-as.matrix(u)
> u
     [,1]
[1,]    1
[2,]    2
[3,]    3
```

0. 矩阵中的行列命名,接上
```R
> colnames(u)<-"col 1"
> rownames(u)<-paste("row",1:3)
> u
      col 1
row 1     1
row 2     2
row 3     3
```

0. 矩阵截取与赋值
```R
> 
> a<-matrix(1:12,ncol=3)
> a
     [,1] [,2] [,3]
[1,]    1    5    9
[2,]    2    6   10
[3,]    3    7   11
[4,]    4    8   12
> a[,2]
[1] 5 6 7 8
> a[,2:3]
     [,1] [,2]
[1,]    5    9
[2,]    6   10
[3,]    7   11
[4,]    8   12
> a[1:2,1:2]=matrix(rep(0,times=4))
> a
     [,1] [,2] [,3]
[1,]    0    0    9
[2,]    0    0   10
[3,]    3    7   11
[4,]    4    8   12
> a[,-2]
     [,1] [,2]
[1,]    0    9
[2,]    0   10
[3,]    3   11
[4,]    4   12
```

